<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        .map-container {
            text-align: center;
            max-width: 100%;
        }

        .main-map {
            max-width: 100%;
            max-height: 80vh;
            height: auto;
            border: 2px solid #333;
            cursor: pointer;
        }



        .instructions {
            text-align: center;
            margin-bottom: 20px;
            color: #666;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0/dist/fancybox/fancybox.css"/>
</head>
<body>
    <div class="instructions">
        <h1>1994 Interactive Tax Map</h1>
        <p>Click on the circled numbers on the map to view detailed plates</p>
    </div>

    <div class="map-container">
        <img src="./assets/1994-images/index-map.jpg" alt="1994 Glen Rock Tax Map Index with clickable numbered plates" usemap="#mapcoords" class="main-map" />
        <map name="mapcoords">
            <area shape="rect" coords="" href="./assets/1994-images/index-map-1.jpg" data-fancybox="gallery" alt="Index Map">
            <area shape="rect" coords="840,290,860,310" href="./assets/1994-images/1994-plate-02.jpg" data-fancybox="gallery" alt="Plate 2">
            <area shape="rect" coords="775,205,800,225" href="./assets/1994-images/1994-plate-03.jpg" data-fancybox="gallery" alt="Plate 3">
            <area shape="rect" coords="695,265,720,290" href="./assets/1994-images/1994-plate-04.jpg" data-fancybox="gallery" alt="Plate 4">
            <area shape="rect" coords="635,195,655,215" href="./assets/1994-images/1994-plate-05.jpg" data-fancybox="gallery" alt="Plate 5">
            <area shape="rect" coords="550,160,575,180" href="./assets/1994-images/1994-plate-06.jpg" data-fancybox="gallery" alt="Plate 6">
            <area shape="rect" coords="540,275,560,300" href="./assets/1994-images/1994-plate-07.jpg" data-fancybox="gallery" alt="Plate 7">
            <area shape="rect" coords="450,335,475,355" href="./assets/1994-images/1994-plate-08.jpg" data-fancybox="gallery" alt="Plate 8">
            <area shape="rect" coords="430,440,450,460" href="./assets/1994-images/1994-plate-09.jpeg" data-fancybox="gallery" alt="Plate 9">
            <area shape="rect" coords="555,430,575,450" href="./assets/1994-images/1994-plate-10.jpg" data-fancybox="gallery" alt="Plate 10">
            <area shape="rect" coords="625,345,645,365" href="./assets/1994-images/1994-plate-11.jpg" data-fancybox="gallery" alt="Plate 11">
            <area shape="rect" coords="765,325,785,350" href="./assets/1994-images/1994-plate-12.jpg" data-fancybox="gallery" alt="Plate 12">
            <area shape="rect" coords="965,355,985,380" href="./assets/1994-images/1994-plate-13.jpg" data-fancybox="gallery" alt="Plate 13">
            <area shape="rect" coords="865,450,890,470" href="./assets/1994-images/1994-plate-14.jpg" data-fancybox="gallery" alt="Plate 14">
            <area shape="rect" coords="775,450,800,470" href="./assets/1994-images/1994-plate-15.jpg" data-fancybox="gallery" alt="Plate 15">
            <area shape="rect" coords="650,450,675,470" href="./assets/1994-images/1994-plate-16.jpg" data-fancybox="gallery" alt="Plate 16">
            <area shape="rect" coords="560,530,585,550" href="./assets/1994-images/1994-plate-17.jpg" data-fancybox="gallery" alt="Plate 17">
            <area shape="rect" coords="465,515,490,540" href="./assets/1994-images/1994-plate-18.jpg" data-fancybox="gallery" alt="Plate 18">
            <area shape="rect" coords="370,565,390,585" href="./assets/1994-images/1994-plate-19.jpg" data-fancybox="gallery" alt="Plate 19">
            <area shape="rect" coords="650,575,670,600" href="./assets/1994-images/1994-plate-20.jpg" data-fancybox="gallery" alt="Plate 20">
            <area shape="rect" coords="770,580,790,605" href="./assets/1994-images/1994-plate-21.jpg" data-fancybox="gallery" alt="Plate 21">
            <area shape="rect" coords="905,590,930,610" href="./assets/1994-images/1994-plate-22.jpg" data-fancybox="gallery" alt="Plate 22">
            <area shape="rect" coords="995,490,1015,510" href="./assets/1994-images/1994-plate-23.jpg" data-fancybox="gallery" alt="Plate 23">
            <area shape="rect" coords="1020,600,1040,620" href="./assets/1994-images/1994-plate-24.jpg" data-fancybox="gallery" alt="Plate 24">
        </map>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0/dist/fancybox/fancybox.umd.js"></script>
    <script>
        Fancybox.bind('[data-fancybox]', {});
        
        function scaleImageMap() {
            const img = document.querySelector('.main-map');
            const map = document.querySelector('map[name="mapcoords"]');
            const areas = map.querySelectorAll('area');
            
            img.onload = function() {
                const scaleX = img.clientWidth / img.naturalWidth;
                const scaleY = img.clientHeight / img.naturalHeight;
                
                areas.forEach(area => {
                    const coords = area.dataset.originalCoords || area.getAttribute('coords');
                    if (!area.dataset.originalCoords) {
                        area.dataset.originalCoords = coords;
                    }
                    
                    const coordsArray = coords.split(',').map(Number);
                    const scaledCoords = coordsArray.map((coord, index) => {
                        return Math.round(coord * (index % 2 === 0 ? scaleX : scaleY));
                    });
                    
                    area.setAttribute('coords', scaledCoords.join(','));
                });
            };
            
            if (img.complete) img.onload();
        }
        
        scaleImageMap();
        window.addEventListener('resize', scaleImageMap);
    </script>
</body>
</html>
